<!DOCTYPE html>
<html lang="de">
<head>
    <!-- Vorhandener Kopfbereich... -->
    <style>
        /* Vorhandene Styles... */
        
        /* Neue Styles für dynamische Tabellen */
        .reference-table {
            display: none; /* Standardmäßig ausgeblendet */
        }
        
        .reference-table.active {
            display: block; /* Wird eingeblendet, wenn aktiv */
        }
        
        .table-row {
            opacity: 0.4; /* Standardmäßig abgedunkelt */
            transition: opacity 0.3s;
        }
        
        .table-row.active {
            opacity: 1;
            background-color: rgba(255, 255, 255, 0.8); /* Leicht hervorgehoben */
        }
    </style>
</head>
<body>
    <!-- ... -->
    
    <!-- Modifizierte Referenztabellen mit Klassen für jede Zeile -->
    <div class="reference-tables">
        <div class="reference-table material-table" id="materialTable">
            <!-- Tabelle mit data-code-Attributen für jede Zeile -->
            <tr class="table-row" data-code="0" data-goal="0">...</tr>
            <tr class="table-row" data-code="1" data-goal="1">...</tr>
            <!-- usw. -->
        </div>
        
        <div class="reference-table interpersonal-table" id="interpersonalTable">
            <!-- Ähnliche Struktur -->
        </div>
    </div>
    
    <!-- JavaScript für die dynamische Anzeige -->
    <script>
        function updateReferenceTables(code) {
            // 1. Area bestimmen (Material, Interpersonal, etc.)
            const area = determineArea(code);
            
            // 2. Tabellen entsprechend anzeigen/ausblenden
            document.getElementById('materialTable').classList.toggle('active', 
                area === 'Material' || area.startsWith('Material/'));
            document.getElementById('interpersonalTable').classList.toggle('active', 
                area === 'Interpersonal' || area === 'Psychological' || 
                area.startsWith('Interpersonal/') || area.startsWith('Psychological/'));
            
            // 3. Codes und Goals extrahieren
            const usedCodes = extractCodes(code);
            const usedGoals = extractGoals(code);
            
            // 4. Relevante Zeilen hervorheben
            highlightRelevantRows(usedCodes, usedGoals);
        }
        
        // Hilfsfunktionen...
    </script>
</body>
</html>
